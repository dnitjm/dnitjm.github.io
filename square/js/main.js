"use strict";$(document).ready(function(){$.fn.prllxx=function(t){var n,i,e=$(this).find(".parallax-container__main"),o=$(this).find(".parallax-container__main__placeholder"),a=$(this).find(".parallax-container__animation__img"),s=($(this).find(".parallax-container__text"),t.total),r=t.base,c=t.name,l=t.ext,f=!1,d={setCSS:function(){var t=$(window).innerHeight(),s=.8*t,r=.95*s,c=$(i)[0].height,l=r*o.width()/c;e.css("height",s),o.css({"max-height":r,"max-width":l}),a.css({"max-height":r,"max-width":l}),n=d.definePoints()},definePoints:function(){var t=o.offset().top+o.innerHeight()-$(window).innerHeight(),n=e.offset().top+e.innerHeight()-$(window).innerHeight();return{start:t,finish:n}},loadImgs:function(){function t(){return n.length===s}for(var n=[],e=1;s>=e;e++){var o=new Image;o.src=r+c+e+l,o.onload=function(e){if(n.push(e),t()){var o=n.filter(function(t){var n=t.src.split("/"),i=n[n.length-1];return-1!==i.indexOf(s)});return i=o[0],f=n,void d.setCSS()}}.bind(null,o)}},init:function(){d.loadImgs()}};$(window).resize(function(){d.setCSS()}),$(window).scroll(function(){if(f&&n){var t=n.start,i=n.finish,e=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop;if(e>i||t>e){if(1===+o.css("opacity"))return;i>e?o.css({opacity:1,top:"40px"}):o.css({opacity:1,top:"auto",bottom:"0px"}),a.css({opacity:0}),o.attr("src",r+c+(i>e?1:s)+l)}if(e>t&&i>e){1===+o.css("opacity")&&(o.css({opacity:0}),a.css({opacity:1}));var d=i-t+50,p=d/f.length,h=Math.ceil((e-t)/p),m=r+c+h+l;a.attr("src",m),console.log(t,i)}}}),d.init()},$("#myparallax").prllxx({base:"https://dnitjm.github.io/square/img/",name:"scroll-",ext:".jpg",total:20}),$("#mysecond").prllxx({base:"https://dnitjm.github.io/square/img/",name:"scroll",ext:".png",total:7})});
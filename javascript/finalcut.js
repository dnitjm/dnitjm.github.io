$(document).ready(function(){Math.log10=Math.log10||function(a){return Math.log(a)/Math.LN10};var a=$("#calculator_power").find('input[type="number"]');a.on("blur",function(a){var t=parseInt($(this).val());(isNaN(t)||0>t)&&$(this).val("")});var t=$("#calc_getresult");t.on("click",function(){var a=$('input[name="units"]:checked').val(),t=parseInt($("#calc_sensitivity").val()),l=parseInt($("#calc_maxpower").val()),e=parseFloat($("#calc_throw").val()),n="metre"==a?e:e/3.28084;$level=parseInt($("#calc_level").val());var c=$("#calc_result-power"),i=$("#calc_result-status");if(isNaN(t)||isNaN(l)||isNaN(e)||isNaN($level))c.html("Please fill in all the fields"),i.html("");else{var r=$level/10+2*Math.log10(n)-t/10,s=Math.ceil(Math.pow(10,r)),o=s>=l?"OVERLOAD":"SPX OK";c.html(s+"W"),i.html(o)}}),$('input[type="radio"]').on("change",function(){var a=$('input[name="units"]:checked').val(),t=$("#units_span");"metre"==a?t.html("m"):t.html("ft")})});